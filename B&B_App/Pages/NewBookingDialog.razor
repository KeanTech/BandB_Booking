@using System.ComponentModel
@using System.Reflection
@using B_B_App.Services;

<MudDialog>
    <TitleContent>
        Er du sikker på at du vil booke?
    </TitleContent>
    <DialogContent>
        <MudText>Rum nummer: @Room.Number</MudText>
        <MudText>Pris per nat: @Room.PricePerNight</MudText>
        <MudText>Antal senge: @Room.NumberOfBeds</MudText>
        <MudText>Antal senge: @Room.NumberOfBeds</MudText>
        <MudText>Bed and Breakfast navn: @Location.Name</MudText>
        <MudText>Område: @Location.Area</MudText>
        <MudText>By: @Location.City</MudText>
        <MudText>Adresse: @Location.Address</MudText>
        <MudText>Post nummer: @Location.ZipCode</MudText>

        <MudButton @onclick="Book" Color="Color.Primary">Reserver</MudButton>
        <MudButton @onclick="CancelBooking" Color="Color.Secondary">Fortryd</MudButton>

        <MudText>Bookingen kan ikke blive godkendt før betalingen er gennemført</MudText>
    </DialogContent>
</MudDialog>

@code {
    [CascadingParameter] MudDialogInstance MudDialog { get; set; }

    [Parameter]public Room Room { get; set; }
    [Parameter]public Location Location { get; set; }
    public List<Contract> contracts = new List<Contract>();


    void Book() => MudDialog.Close(DialogResult.Ok(contracts));
    void CancelBooking() => MudDialog.Cancel();
}
